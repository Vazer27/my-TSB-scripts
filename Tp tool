local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local player = Players.LocalPlayer
local mouse = player:GetMouse()

local tool = Instance.new("Tool")
tool.RequiresHandle = false
tool.CanBeDropped = false
tool.Name = "TP"
tool.Parent = player.Backpack

local animation = Instance.new("Animation")
animation.AnimationId = "rbxassetid://15957361339"

local sound = Instance.new("Sound")
sound.SoundId = "rbxassetid://15956555583"
sound.Volume = 1
sound.Parent = player.Character or game.Workspace

local function teleport()
    local character = player.Character
    local root = character and character:FindFirstChild("HumanoidRootPart")
    local humanoid = character and character:FindFirstChildOfClass("Humanoid")

    if root and humanoid then
        local animator = humanoid:FindFirstChildOfClass("Animator") or humanoid:WaitForChild("Animator")
        local track = animator:LoadAnimation(animation)
        track:Play()

        sound:Play()

        local targetPosition = mouse.Hit.Position + Vector3.new(0, 2.5, 0)
        local tween = TweenService:Create(root, TweenInfo.new(0.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {CFrame = CFrame.new(targetPosition)})
        tween:Play()
    end
end

tool.Activated:Connect(teleport)
